<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>task</title>
</head>
<body>

<script>
    let date1 = new Date(2012, 1, 20, 3, 12);
    console.log(date1);

    function getWeekDay(date) {
        let days = ['SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'];
        return days[date.getDay()];
    }

    console.log(getWeekDay(new Date()));

    function getLocalDay(date) {
        let day = date.getDay();
        if (day == 0) day = 7;
        return day;
    }

    console.log(getLocalDay(new Date()));

    function getDateAgo(date, days) {
        let dateCopy = new Date(date);
        dateCopy.setDate(date.getDate() - days);
        return dateCopy.getDate();
    }

    let date = new Date(2015, 0, 2);

    console.log(getDateAgo(date, 1)); // 1, (1 Jan 2015)
    console.log(getDateAgo(date, 2)); // 31, (31 Dec 2014)
    console.log(getDateAgo(date, 365)); // 2, (2 Jan 2014)

    function getLastDayofMonth(year, month) {
        let date = new Date(year, month + 1, 0);
        return date.getDate();
    }

    function getSecondToday() {
        let now = new Date();
        let today = new Date(now.getFullYear(), now.getMonth(), now.getDate());

        return Math.round((now - today) / 1000);
    }

    console.log(getSecondToday());

    function dateFormat(date) {
        let dayOfMonth = date.getDate();
        let month = date.getMonth();
        let year = date.getFullYear();
        let hour = date.getHours();
        let min = date.getMinutes();
        let sec = date.getSeconds();
        let diffMs = new Date() - date;
        let diffSec = Math.round(diffMs / 1000);
        let diffMin = diffSec / 60;
        let diffHour = diffMin / 60;
        year = year.slice(-2);
        month = month < 10 ? '0' + month : month;
        dayOfMonth = dayOfMonth < 10 ? '0' + dayOfMonth : dayOdMonth;

        if (diffSec < 1) {
            return 'right now';
        } else if (diffMin < 1) {
            return `${diffSec} ago.`;
        } else if (diffHour < 1) {
            return `${diffMin} ago.`;
        } else {
            return `${year}.${month}.${dayOfMonth} ${hour}:${min}:${sec}`;
        }
    }
</script>

</body>
</html>